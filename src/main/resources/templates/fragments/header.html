<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">


<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="../../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet" media="screen"/>
    <link href="../../static/css/style.css" th:href="@{css/style.css}" rel="stylesheet" media="screen"/>
</head>

<body>
<div class="container">
    <div th:fragment="header">
            <section>
                <div class="pull-right" style="padding-right:5px">

                    <!--if user is not logged in, the following codes should display-->
                    <a href="/registration/new" th:href="@{'/registration/new'}" sec:authorize="isAnonymous()"> <i class="fa fa-sign-in fa-fw" ></i> Create Account</a> |
                    <a href="/fund/login" th:href="@{'/fund/login'}" sec:authorize="isAnonymous()" ><i class="fa fa-sign-in fa-fw" ></i> Login</a>

                    <!--if user is logged in, this should display-->
                    <a href="/viewAllUsers" th:href="@{'/users'}" sec:authorize="isAuthenticated()">View Users</a> |
                    <a  href="#"><i class="fa fa-unlock-alt"></i><span sec:authorize="isAuthenticated()" sec:authentication="name" ></span></a> |
                    <a href="/logout" th:href="@{'/logout'}" sec:authorize="isAuthenticated()"><i class="fa fa-sign-out fa-fw" ></i> Logout</a>

                </div>
            </section>
            <br/>
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#" th:href="@{/fund/home}">CrowdFunding</a>
                    <ul class="nav navbar-nav" sec:authorize="isAuthenticated()">
                        <li><a href="#" th:href="@{/campaigns}" sec:authorize="hasRole('ROLE_USER')">View Campaigns</a></li>
                        <li><a href="#" th:href="@{'/campaign/create/' + user.id}" sec:authorize="hasRole('ROLE_USER')">Create new campaign</a></li>
                    </ul>

                </div>
            </div>
        </nav>

        <div class="jumbotron">
            <div class="row text-center">
                <div class="">
                    <h2>Crowdfunding Platform</h2>
                    <h3>Welcome</h3>
                </div>
            </div>
            <div class="row text-center">
                <img src="../../static/images/give.jpg" width="300" th:src="@{/images/give.jpg}"/>
            </div>
        </div>

    </div>
</div>
</body>
</html>
